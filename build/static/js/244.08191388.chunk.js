"use strict";(self.webpackChunkporfolio=self.webpackChunkporfolio||[]).push([[244],{3543:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),o=n(5987),i=n(2947),a=n(184),s=["rows","columns","setOpen","GridContainerSx","rowModesModel","setRowModesModel","processRowUpdate","handleProcessRowUpdateError"],l={borderRadius:"4px",border:"1px solid lightgrey"};function c(e){var t=e.rows,n=e.columns,c=(e.setOpen,e.GridContainerSx,e.rowModesModel),d=e.setRowModesModel,u=e.processRowUpdate,f=e.handleProcessRowUpdateError,p=(0,o.Z)(e,s);return(0,a.jsx)(i._,(0,r.Z)({sx:l,rows:t,columns:n,getRowId:function(e){return e.id},pageSize:10,rowsPerPageOptions:[10,20],editMode:"row",onRowEditStart:function(e,t){return t.defaultMuiPrevented=!0},onRowEditStop:function(e,t){return t.defaultMuiPrevented=!0},experimentalFeatures:{newEditingApi:!0},onRowModesModelChange:function(e){return d(e)},rowModesModel:c,processRowUpdate:u,onProcessRowUpdateError:f},p))}},8562:function(e,t,n){n.d(t,{c:function(){return i}});var r=n(2007),o=n.n(r),i=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!["date","id","dollarsPerHour"].includes(t)&&(null===n||""===n||isNaN(n)))return{key:t,value:n}}return!0};i.prototype={obj:o().object.isRequired}},788:function(e,t,n){n.d(t,{A:function(){return l}});var r=n(4415),o=n(926),i=n(2007),a=n.n(i),s=n(184),l=function(e){var t=e.id,n=e.value,i=e.options,a=e.api;return(0,s.jsx)(r.Z,{fullWidth:!0,value:n,onChange:function(e){return a.setEditCellValue({id:t,field:"date",value:e.target.value})},renderValue:function(e){return e},children:i.map((function(e){return(0,s.jsx)(o.Z,{value:e,children:e},e)}))})};l.prototype={id:a().number.isRequired,value:a().string.isRequired,options:a().array.isRequired,api:a().object.isRequired}},4244:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var r=n(4165),o=n(5987),i=n(5861),a=n(4942),s=n(1413),l=n(9439),c=n(2791),d=n(9434),u=n(3767),f=n(68),p=n(4554),x=n(7630),h=n(5936),w=n(6795),b=n(3329),m=n(6711),g=n(1286),Z=n(3433),v=n(3400),y=n(2419),j=n(9211),R=n(4696),M=n(2804),C=n(4654),N=n(184),A=(0,x.ZP)(u.Z)((function(e){var t=e.theme;return{height:"60px",border:"1px solid ".concat(t.palette.tableBorder),backgroundColor:t.palette.indigoDye,borderRadius:"4px 4px 0 0",flexDirection:"row",alignItems:"center",padding:"0 10px",justifyContent:"space-between"}}));function k(e){var t=e.setRows,n=e.isAdd,o=e.setIsAdd,p=e.setRowModesModel,x=e.user,w=(0,d.v9)((function(e){return e.admin})).month,b=(0,c.useState)((0,R.getActualMonthAndYear)()),m=(0,l.Z)(b,2),g=m[0],k=m[1],P=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),n=(0,R.createId)(20),t((function(e){return[].concat((0,Z.Z)(e),[{id:n,date:"",uber:0,lyft:0,other:0,hours:0,miles:0,gas:0,expenses:0,isNew:!0}])})),p((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,a.Z)({},n,{mode:h.se.Edit,fieldToFocus:"date"}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,N.jsxs)(A,{children:[(0,N.jsx)(j.Z,{text:"uber_and_lyft"===x.select?"Uber and Lyft":"Personal",sx:{color:"white"}}),(0,N.jsxs)(u.Z,{direction:"row",gap:"10px",alignItems:"center",children:[(0,N.jsxs)(u.Z,{direction:"row",gap:"10px",alignItems:"center",children:[(0,N.jsx)(j.Z,{text:"Select Month"}),(0,N.jsx)(M.Z,{option:(0,Z.Z)(w),value:g,onChange:function(e){k(e.target.value),window.dispatch((0,C.getUserTableData)({uid:x.uid,collection:x.select,monthAndYear:e.target.value}))},from:"toolbar"})]}),(0,N.jsx)(f.Z,{title:"Add",placement:"bottom",children:(0,N.jsx)("span",{children:(0,N.jsx)(v.Z,{disabled:n,onClick:P,children:(0,N.jsx)(y.Z,{sx:function(e){var t=e.palette;return{fill:n?t.tableBorder:t.tableColor}}})})})})]})]})}var P=n(442),E=n(3833);(0,x.ZP)(u.Z)((function(e){e.theme;return{}}));function S(e){var t=e.rows,n=null===t||void 0===t?void 0:t.reduce((function(e,t){var n=t.uber,r=t.lyft,o=t.other,i=t.gas,a=t.expenses,s=t.miles,l=t.hours;return e.earn+=n+r+o,e.expenses+=i+a+.08*s,e.hours+=l,e}),{earn:0,expenses:0,hours:0}),r=n.earn,o=n.expenses,i=n.hours;return(0,N.jsxs)(P.L,{children:[(0,N.jsxs)(u.Z,{direction:"row",alignItems:"center",p:"0 0 0 20px",gap:"20px",children:[(0,N.jsx)(j.Z,{text:"Earn:\xa0$".concat(r.toFixed(2)),sx:{color:"#e9c46a"}}),(0,N.jsx)(j.Z,{text:"Expenses:\xa0$".concat(o.toFixed(2)),sx:{color:"#e63946"}}),(0,N.jsx)(j.Z,{text:"Total:\xa0$".concat((r-o).toFixed(2)),sx:{color:"#2a9d8f"}}),(0,N.jsx)(j.Z,{text:"Hours:\xa0".concat(i.toFixed(2)),sx:{color:"#2a6d9d"}}),(0,N.jsx)(j.Z,{text:"Days:\xa0".concat(null===t||void 0===t?void 0:t.length),sx:{color:"#2a9d99"}})]}),(0,N.jsx)(E.x,{})]})}var U=n(8562),D=n(296),I=n(788),F=n(7809),O=n(3543),T=["isNew"],q=(0,x.ZP)(u.Z)((function(e){e.theme;return{margin:"10px",height:"calc(100vh - 80px)"}}));function $(){var e=(0,d.v9)((function(e){return e.admin})).user,t=(0,c.useState)([]),n=(0,l.Z)(t,2),u=n[0],x=n[1],Z=(0,c.useMemo)((function(){return(0,R.monthDays)(e.tableData.id)}),[e.tableData.id]),v=(0,c.useState)({}),y=(0,l.Z)(v,2),M=y[0],C=y[1],A=(0,c.useState)(!1),P=(0,l.Z)(A,2),E=P[0],$=P[1];(0,c.useEffect)((function(t){x(e.tableData.data)}),[e.tableData.id]);var V=(0,c.useCallback)((function(e){C((0,s.Z)((0,s.Z)({},M),{},(0,a.Z)({},e,{mode:h.se.Edit})))}),[M]),H=(0,c.useCallback)((function(e){C((0,s.Z)((0,s.Z)({},M),{},(0,a.Z)({},e,{mode:h.se.View}))),$(!1)}),[M]),_=(0,c.useCallback)((function(e){C((0,s.Z)((0,s.Z)({},M),{},(0,a.Z)({},e,{mode:h.se.View,ignoreModifications:!0}))),u.find((function(t){return t.id===e})).isNew&&x((function(t){return t.filter((function(t){return t.id!==e}))})),$(!1)}),[M]),B=(0,c.useCallback)((function(e){window.displayNotification({type:e.type,content:e.content}),console.log(e)}),[]),G=(0,c.useCallback)(function(){var t=(0,i.Z)((0,r.Z)().mark((function t(n,i){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e,t){var r=(0,U.c)(n);if(!0!==r)return t({type:"error",content:"".concat(r.key," can't be ").concat(r.value)});e()}));case 2:if(JSON.stringify(n)!==JSON.stringify(i)){t.next=7;break}return window.displayNotification({type:"warning",content:"Row not saved, cells are empty"}),t.abrupt("return",i);case 7:if(!n.isNew){t.next=14;break}return n.isNew,a=(0,o.Z)(n,T),window.dispatch(D.D.createNewRecordInUserTable({newR:(0,s.Z)({},a),collection:e.select})),window.displayNotification({type:"success",content:"Row saved successfully!!"}),t.abrupt("return",a);case 14:return window.dispatch(D.D.updateUserTable({newRow:n,collection:e.select})),window.displayNotification({type:"success",content:"Row edited successfully!!"}),t.abrupt("return",n);case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[]),J=(0,c.useMemo)((function(){return[{field:"date",headerName:"date",type:"singleSelect",flex:1,minWidth:180,editable:!0,align:"center",headerAlign:"center",renderEditCell:function(e){return(0,N.jsx)(I.A,{options:Z,value:e.value,api:e.api,id:e.id})}},{field:"uber",headerName:"uber",type:"number",flex:1,editable:!0,align:"center",headerAlign:"center"},{field:"lyft",headerName:"lyft",type:"number",flex:1,editable:!0,align:"center",headerAlign:"center"},{field:"other",headerName:"other",type:"number",flex:1,editable:!0,align:"center",headerAlign:"center"},{field:"hours",headerName:"hours",type:"number",flex:1,editable:!0,align:"center",headerAlign:"center"},{field:"gas",headerName:"gas",type:"number",flex:1,editable:!0,align:"center",headerAlign:"center"},{field:"expenses",headerName:"expenses",type:"number",flex:1,editable:!0,align:"center",headerAlign:"center"},{field:"miles",headerName:"miles",type:"number",flex:1,editable:!0,align:"center",headerAlign:"center",renderCell:function(e){return(0,N.jsx)(j.Z,{text:"".concat(e.row.miles," / $").concat(.08*e.row.miles)})}},{field:"dollarsPerHour",headerName:"$/hr",type:"number",flex:1,align:"center",headerAlign:"center",renderCell:function(e){var t=e.row,n=t.uber,r=t.lyft,o=t.other,i=t.hours,a=t.miles,s=(n+r+o-t.gas-t.expenses-.08*a)/i;return(0,N.jsx)(j.Z,{text:"".concat(s.toFixed(2)," / hr")})}},{field:"action",headerName:"Action",align:"center",type:"actions",sortable:!1,getActions:function(e){var t,n=(null===(t=M[e.id])||void 0===t?void 0:t.mode)===h.se.Edit;return n?[(0,N.jsx)(w.u,{icon:(0,N.jsx)(b.Z,{sx:{fill:"green"}}),label:"Save",onClick:function(t){return H(e.id)}}),(0,N.jsx)(w.u,{icon:(0,N.jsx)(m.Z,{sx:{fill:"red"}}),label:"Cancel",className:"textPrimary",onClick:function(t){return _(e.id)},color:"inherit"})]:[(0,N.jsx)(f.Z,{title:"Edit",children:(0,N.jsx)(w.u,{icon:(0,N.jsx)(g.Z,{sx:{fill:"white"}}),label:"Edit",disabled:!0===n,onClick:function(t){return V(e.id)}})})]}}]}),[M,H,_,V]);return(0,N.jsx)(q,{children:(0,N.jsx)(p.Z,{sx:{height:"100%",width:"100%"},children:(0,N.jsx)(O.Z,{rows:u,columns:J,processRowUpdate:G,onProcessRowUpdateError:B,setRowModesModel:C,rowModesModel:M,components:{Toolbar:k,Footer:S},componentsProps:{toolbar:{setRows:x,isAdd:E,setIsAdd:$,setRowModesModel:C,user:e},footer:{rows:u}},disableSelectionOnClick:!0,sx:function(e){var t=e.palette;return(0,F.ui)(t)}})})})}}}]);
//# sourceMappingURL=244.08191388.chunk.js.map