{"version":3,"file":"static/js/452.270a1c1e.chunk.js","mappings":"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","sources":["helper/checkValidFields.js","components/EzMuiGrid/EzMuiGrid.js","section/table/CustomSelectCell.jsx","helper/getColumnDataToRenderNewRow.js","helper/sanitizedString.js","section/table/CustomToolBar.jsx","section/table/personal/PersonalFooter.jsx","section/table/personal/Personal.jsx"],"sourcesContent":["import PropTypes from \"prop-types\";\r\n\r\nexport const checkValidFields = (obj) => {\r\n    for (let key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n            const value = obj[key];\r\n            if (!['date', 'id', 'dollarsPerHour'].includes(key)) {\r\n                if (value === null || value === \"\" || isNaN(value)) {\r\n                    return {key, value};\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\ncheckValidFields.prototype = {\r\n    obj: PropTypes.object.isRequired\r\n}","// material\r\nimport {DataGrid} from \"@mui/x-data-grid\";\r\nimport {checkValidFields} from \"../../helper/checkValidFields\";\r\nimport {generalSliceActions} from \"../../store/adminSlice\";\r\nimport {useCallback} from \"react\";\r\n\r\n//----------------------------------------------------------------\r\nconst tableSx = {\r\n    borderRadius: '4px',\r\n    border: '1px solid lightgrey'\r\n};\r\n\r\n//----------------------------------------------------------------\r\n\r\nexport default function EzMuiGrid({\r\n    user,\r\n    rows,\r\n    columns,\r\n    setOpen,\r\n    GridContainerSx,\r\n    rowModesModel,\r\n    setRowModesModel,\r\n    ...rest\r\n}) {\r\n    const handleRowEditStart = (params, event) => event.defaultMuiPrevented = true;\r\n    const handleRowEditStop = (params, event) => event.defaultMuiPrevented = true;\r\n\r\n    const handleProcessRowUpdateError = useCallback((error) => {\r\n        window.displayNotification({type: error.type, content: error.content})\r\n        console.log(error)\r\n    }, []);\r\n\r\n    const processRowUpdate = useCallback(\r\n        async (newRow, oldRow) => {\r\n            await new Promise((resolve, reject) => {\r\n                //check empty field\r\n                // const today = new Date();\r\n                // const newDate = new Date(newRow.date)\r\n                // if (newDate <= today) {\r\n                //     return reject({type: 'error', content: 'Date has to be greater than today'});\r\n                // }\r\n                const value = checkValidFields(newRow)\r\n                if (value !== true) {\r\n                    return reject({type: 'error', content: `${value.key} can't be ${value.value}`});\r\n                }\r\n                resolve()\r\n            })\r\n            if (JSON.stringify(newRow) === JSON.stringify(oldRow)) {\r\n                window.displayNotification({\r\n                    type: 'warning',\r\n                    content: 'Row not saved, cells are empty'\r\n                })\r\n                return oldRow\r\n            } else {\r\n                if(newRow.isNew) {\r\n                    const {isNew, ...rest} = newRow;\r\n                    window.dispatch(generalSliceActions.createNewRecordInUserTable({\r\n                        newR: {...rest},\r\n                        collection: user.select\r\n                    }))\r\n                    window.displayNotification({\r\n                        type: 'success',\r\n                        content: 'Row saved successfully!!'\r\n                    })\r\n                    return rest\r\n                } else {\r\n                    window.dispatch(generalSliceActions.updateUserTable({\r\n                        newRow,\r\n                        collection: user.select\r\n                    }))\r\n                    window.displayNotification({\r\n                        type: 'success',\r\n                        content: 'Row edited successfully!!'\r\n                    })\r\n                    return newRow\r\n                }\r\n            }\r\n        }, []\r\n    );\r\n\r\n\r\n    return (\r\n        <DataGrid\r\n            sx={tableSx}\r\n            rows={rows}\r\n            columns={columns}\r\n            getRowId={row => row.id}\r\n            pageSize={10}\r\n            rowsPerPageOptions={[10, 20]}\r\n            //to edit function in v5 editMode and experimentalFeatures are required\r\n            editMode='row'\r\n            onRowEditStart={handleRowEditStart}//disable edit with dbclick\r\n            onRowEditStop={handleRowEditStop}//disable edit with dbclick\r\n            experimentalFeatures={{newEditingApi: true}}\r\n            onRowModesModelChange={model => setRowModesModel(model)}\r\n            rowModesModel={rowModesModel}\r\n            processRowUpdate={processRowUpdate}\r\n            onProcessRowUpdateError={handleProcessRowUpdateError}\r\n            {...rest}\r\n        />\r\n    );\r\n}\r\n","import {MenuItem, Select} from \"@mui/material\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const CustomSelectCell = ({id, value, options, api}) => {\r\n    return (\r\n        <Select\r\n            fullWidth\r\n            value={value}\r\n            onChange={e => api.setEditCellValue({id, field: \"date\", value: e.target.value})}\r\n            renderValue={(selected) => selected}\r\n        >\r\n            {options.map(item =>\r\n                <MenuItem key={item} value={item}>{item}</MenuItem>\r\n            )}\r\n        </Select>\r\n    );\r\n}\r\n\r\nCustomSelectCell.prototype = {\r\n    id: PropTypes.number.isRequired,\r\n    value: PropTypes.string.isRequired,\r\n    options: PropTypes.array.isRequired,\r\n    api: PropTypes.object.isRequired\r\n}","export const getColumnDataToRenderNewRow = (columns) => {\r\n    const newRow = {};\r\n    columns.forEach(column => {\r\n        switch (column.field) {\r\n            case 'date':\r\n                newRow[column.field] = ''\r\n                break;\r\n            case 'action':\r\n                break;\r\n            default:\r\n                newRow[column.field] = 0\r\n        }\r\n    })\r\n    return newRow\r\n}","export const sanitizedString = (string) => {\r\n    const sanitizedStr = string.replace(/[.,_]/g, ' ');\r\n\r\n    return sanitizedStr.replace(\r\n        /\\w\\S*/g,\r\n        function (txt) {\r\n            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n        }\r\n    )\r\n}","import {useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\n// material\r\nimport {IconButton, Stack, Tooltip} from \"@mui/material\";\r\nimport {styled} from '@mui/material/styles';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport {GridRowModes} from \"@mui/x-data-grid\";\r\n//\r\nimport EzText from \"../../components/EzText/EzText\";\r\nimport {createId, getActualMonthAndYear} from \"../../helper\";\r\nimport EzCustomSelect from \"../../components/EzCustomSelect/EzCustomSelect\";\r\nimport {getUserTableData} from \"../../helper/firebase/FirestoreApi\";\r\nimport PropTypes from \"prop-types\";\r\nimport {getColumnDataToRenderNewRow} from \"../../helper/getColumnDataToRenderNewRow\";\r\nimport {sanitizedString} from \"../../helper/sanitizedString\";\r\n\r\n//---------------------------------------------------------------------------------\r\n\r\nconst RootStyle = styled(Stack)(({theme}) => ({\r\n    height: '60px',\r\n    border: `1px solid ${theme.palette['tableBorder']}`,\r\n    backgroundColor: theme.palette['indigoDye'],\r\n    borderRadius: '4px 4px 0 0',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    padding: '0 10px',\r\n    justifyContent: 'space-between'\r\n}));\r\n\r\n//---------------------------------------------------------------------------------\r\n/**\r\n *\r\n * @param setRows - to manipulate table rows (add a new row in this case)\r\n * @param isAddActive - false by default, true if a new row was added and is in edit mode\r\n * @param setIsAddActive - to change the state of isAddActive\r\n * @param setRowModesModel - to be able to manipulate the new row that was just added and put it in edit mode\r\n * @param user - object that represent the user variable in store\r\n * @returns {JSX.Element}\r\n * @constructor\r\n */\r\n\r\nexport default function CustomToolBar({setRows, isAddActive, setIsAddActive, setRowModesModel, user, columns}) {\r\n    const {month} = useSelector(slice => slice.admin)\r\n    const [value, setValue] = useState(getActualMonthAndYear())\r\n    const handleAddRow = async () => {\r\n        setIsAddActive(true)\r\n        const id = createId(20);\r\n        setRows(prev => {\r\n            return [...prev, {\r\n                id,\r\n                ...getColumnDataToRenderNewRow(columns),\r\n                isNew: true\r\n            }]\r\n        });\r\n        setRowModesModel(prev => {\r\n            return {\r\n                ...prev,\r\n                [id]: {mode: GridRowModes.Edit, fieldToFocus: 'date'}\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <RootStyle>\r\n            <EzText\r\n                text={sanitizedString(user.select)}\r\n                sx={{color: 'white'}}\r\n            />\r\n\r\n            <Stack direction='row' gap='10px' alignItems='center'>\r\n                <Stack direction='row' gap='10px' alignItems='center'>\r\n                    <EzText text='Select Month'/>\r\n                    <EzCustomSelect\r\n                        option={[...month]}\r\n                        value={value}\r\n                        onChange={e => {\r\n                            setValue(e.target.value)\r\n                            window.dispatch(getUserTableData({\r\n                                uid: user.uid,\r\n                                collection: user.select,\r\n                                monthAndYear: e.target.value\r\n                            }))\r\n                        }}\r\n                        from='toolbar'\r\n                    />\r\n                </Stack>\r\n\r\n                <Tooltip title=\"Add\" placement=\"bottom\">\r\n                  <span>\r\n                    <IconButton\r\n                        disabled={isAddActive}\r\n                        onClick={handleAddRow}\r\n                    >\r\n                      <AddIcon\r\n                          sx={({palette}) => ({\r\n                              fill: isAddActive ? palette['tableBorder'] : palette['tableColor']\r\n                          })}\r\n                      />\r\n                    </IconButton>\r\n                  </span>\r\n                </Tooltip>\r\n            </Stack>\r\n        </RootStyle>\r\n    )\r\n}\r\n\r\nCustomToolBar.prototype = {\r\n    setRows: PropTypes.func.isRequired,\r\n    isAddActive: PropTypes.bool.isRequired,\r\n    setIsAddActive: PropTypes.func.isRequired,\r\n    setRowModesModel: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired\r\n}","// material\r\nimport {Stack} from \"@mui/material\";\r\nimport {styled} from '@mui/material/styles';\r\nimport {GridFooterContainer, GridPagination} from \"@mui/x-data-grid\";\r\nimport EzText from \"../../../components/EzText/EzText\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\n//----------------------------------------------------------------\r\n\r\nconst RootStyle = styled(Stack)(({theme}) => ({}));\r\n\r\n//----------------------------------------------------------------\r\n\r\nexport default function PersonalFooter() {\r\n    const {user} = useSelector(slice => slice.admin);\r\n    const [footerData, setFooterData] = useState({\r\n        deposit: 0,\r\n        expenses: 0\r\n    });\r\n\r\n    useEffect(() => {\r\n        const { deposit, expenses } = user?.tableData?.data.reduce(\r\n            (acc, curr) => {\r\n                const { deposit, expenses} = curr;\r\n                acc.deposit += deposit;\r\n                acc.expenses += expenses;\r\n                return acc;\r\n            },\r\n            { deposit: 0, expenses: 0 }\r\n        );\r\n        setFooterData({ deposit, expenses });\r\n    }, [user.tableData.data]);\r\n\r\n    const { deposit, expenses } = footerData;\r\n    return (\r\n        <GridFooterContainer>\r\n            <Stack direction='row' alignItems='center' p='0 0 0 20px' gap='20px'>\r\n                <EzText text={`Earn: $${deposit.toFixed(2)}`} sx={{color: '#e9c46a'}}/>\r\n                <EzText text={`Expenses: $${expenses.toFixed(2)}`} sx={{color: '#e63946'}}/>\r\n                <EzText text={`Total: $${(deposit - expenses).toFixed(2)}`} sx={{color: '#2a9d8f'}}/>\r\n                <EzText text={`Days: ${(user?.tableData?.data.length)}`} sx={{color: '#2a9d99'}}/>\r\n            </Stack>\r\n            <GridPagination />\r\n        </GridFooterContainer>\r\n    );\r\n}\r\n","import {useSelector} from \"react-redux\";\r\nimport {useCallback, useEffect, useMemo, useState} from \"react\";\r\n// material\r\nimport {Box, Stack, Tooltip} from \"@mui/material\";\r\nimport {styled} from '@mui/material/styles';\r\nimport {GridActionsCellItem, GridRowModes} from \"@mui/x-data-grid\";\r\nimport SaveIcon from \"@mui/icons-material/Save\";\r\nimport CancelIcon from \"@mui/icons-material/Cancel\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\n//\r\nimport EzMuiGrid from \"../../../components/EzMuiGrid/EzMuiGrid\";\r\nimport {monthDays} from \"../../../helper\";\r\nimport {CustomSelectCell} from \"../CustomSelectCell\";\r\nimport PersonalFooter from \"./PersonalFooter\";\r\nimport {tableSx} from \"../../../helper/Style\";\r\nimport CustomToolBar from \"../CustomToolBar\";\r\n\r\n//----------------------------------------------------------------\r\n\r\nconst RootStyle = styled(Stack)(({theme}) => ({\r\n    margin: '10px',\r\n    height: 'calc(100vh - 80px)'\r\n}));\r\n\r\n//----------------------------------------------------------------\r\n\r\nexport default function Personal() {\r\n    const {user} = useSelector(slice => slice.admin);\r\n    const [rows, setRows] = useState([]);\r\n    const daysToRender = useMemo(() => monthDays(user.tableData.id), [user.tableData.id])\r\n    const [rowModesModel, setRowModesModel] = useState({});\r\n    const [isAddActive, setIsAddActive] = useState(false);\r\n\r\n    useEffect(_ => {\r\n        setRows(user.tableData.data)\r\n    }, [user.tableData.id]);\r\n\r\n    const handleEditClick = useCallback((id) => {\r\n        setRowModesModel({...rowModesModel, [id]: {mode: GridRowModes.Edit}})\r\n    }, [rowModesModel]);\r\n\r\n    const handleSaveClick = useCallback((id) => {\r\n        setRowModesModel({...rowModesModel, [id]: {mode: GridRowModes.View}})\r\n        setIsAddActive(false)\r\n    }, [rowModesModel]);\r\n\r\n    const handleCancelClick = useCallback((id) => {\r\n        setRowModesModel({...rowModesModel, [id]: {mode: GridRowModes.View, ignoreModifications: true}});\r\n\r\n        const editedRow = rows.find(item => item.id === id);\r\n        if (editedRow.isNew) {\r\n            setRows(prev => prev.filter(item => item.id !== id))\r\n        }\r\n        setIsAddActive(false)\r\n    }, [rowModesModel]);\r\n\r\n    const allProductsVariantsGridColumns = useMemo(\r\n        () => [\r\n            {\r\n                field: 'date',\r\n                headerName: 'date',\r\n                type: 'singleSelect',\r\n                flex: 1,\r\n                minWidth: 180,\r\n                editable: true,\r\n                align: 'center',\r\n                headerAlign: 'center',\r\n                renderEditCell: (params) => (\r\n                    <CustomSelectCell\r\n                        options={daysToRender}\r\n                        value={params.value}\r\n                        api={params.api}\r\n                        id={params.id}\r\n                    />\r\n                ),\r\n            },\r\n            {\r\n                field: 'deposit',\r\n                headerName: 'deposit',\r\n                type: 'number',\r\n                flex: 1,\r\n                editable: true,\r\n                align: 'center',\r\n                headerAlign: 'center',\r\n            },\r\n            {\r\n                field: 'expenses',\r\n                headerName: 'expenses',\r\n                type: 'number',\r\n                flex: 1,\r\n                editable: true,\r\n                align: 'center',\r\n                headerAlign: 'center',\r\n            },\r\n            {\r\n                field: 'action',\r\n                headerName: 'Action',\r\n                align: 'center',\r\n                type: 'actions',\r\n                sortable: false,\r\n                getActions: (params) => {\r\n                    const isInEditMode = rowModesModel[params.id]?.mode === GridRowModes.Edit;\r\n                    if (isInEditMode) {\r\n                        return [\r\n                            <GridActionsCellItem\r\n                                icon={<SaveIcon sx={{fill: 'green'}}/>}\r\n                                label=\"Save\"\r\n                                onClick={_ => handleSaveClick(params.id)}\r\n                            />,\r\n                            <GridActionsCellItem\r\n                                icon={<CancelIcon sx={{fill: 'red'}}/>}\r\n                                label=\"Cancel\"\r\n                                className=\"textPrimary\"\r\n                                onClick={_ => handleCancelClick(params.id)}\r\n                                color=\"inherit\"\r\n                            />,\r\n                        ];\r\n                    }\r\n                    return [\r\n                        <Tooltip title=\"Edit\">\r\n                            <GridActionsCellItem\r\n                                icon={<EditIcon sx={{fill: 'white'}}/>}\r\n                                label=\"Edit\"\r\n                                disabled={isInEditMode === true}\r\n                                onClick={_ => handleEditClick(params.id)}\r\n                                // showInMenu\r\n                            />\r\n                        </Tooltip>\r\n                    ]\r\n                },\r\n            }\r\n        ], [rowModesModel, handleSaveClick, handleCancelClick, handleEditClick])\r\n\r\n\r\n    return (\r\n        <RootStyle>\r\n            <Box sx={{height: '100%', width: '100%'}}>\r\n                <EzMuiGrid\r\n                    user={user}\r\n                    rows={rows}\r\n                    columns={allProductsVariantsGridColumns}\r\n                    setRowModesModel={setRowModesModel}\r\n                    rowModesModel={rowModesModel}\r\n                    components={{\r\n                        Toolbar: CustomToolBar,\r\n                        Footer: PersonalFooter\r\n                    }}\r\n                    componentsProps={{\r\n                        toolbar: {\r\n                            setRows,\r\n                            isAddActive,\r\n                            setIsAddActive,\r\n                            setRowModesModel,\r\n                            user,\r\n                            columns: allProductsVariantsGridColumns\r\n                        },\r\n                    }}\r\n                    sx={({palette}) => tableSx(palette)}\r\n                />\r\n            </Box>\r\n        </RootStyle>\r\n    );\r\n};"],"names":["checkValidFields","obj","key","hasOwnProperty","value","includes","isNaN","prototype","PropTypes","tableSx","borderRadius","border","EzMuiGrid","user","rows","columns","rowModesModel","setOpen","GridContainerSx","setRowModesModel","rest","handleProcessRowUpdateError","useCallback","error","window","displayNotification","type","content","console","log","processRowUpdate","newRow","oldRow","Promise","resolve","reject","JSON","stringify","isNew","dispatch","generalSliceActions","newR","collection","select","DataGrid","sx","getRowId","row","id","pageSize","rowsPerPageOptions","editMode","onRowEditStart","params","event","defaultMuiPrevented","onRowEditStop","experimentalFeatures","newEditingApi","onRowModesModelChange","model","onProcessRowUpdateError","CustomSelectCell","options","api","fullWidth","onChange","e","setEditCellValue","field","target","renderValue","selected","map","item","getColumnDataToRenderNewRow","forEach","column","sanitizedString","string","replace","txt","charAt","toUpperCase","substr","toLowerCase","RootStyle","styled","Stack","theme","height","palette","backgroundColor","flexDirection","alignItems","padding","justifyContent","CustomToolBar","setRows","isAddActive","setIsAddActive","month","useSelector","slice","admin","useState","getActualMonthAndYear","setValue","handleAddRow","createId","prev","mode","GridRowModes","fieldToFocus","EzText","text","color","direction","gap","EzCustomSelect","option","getUserTableData","uid","monthAndYear","from","Tooltip","title","placement","IconButton","disabled","onClick","Add","fill","PersonalFooter","deposit","expenses","footerData","setFooterData","useEffect","tableData","data","reduce","acc","curr","GridFooterContainer","p","toFixed","length","GridPagination","margin","Personal","daysToRender","useMemo","monthDays","_","handleEditClick","handleSaveClick","handleCancelClick","ignoreModifications","find","filter","allProductsVariantsGridColumns","headerName","flex","minWidth","editable","align","headerAlign","renderEditCell","sortable","getActions","isInEditMode","GridActionsCellItem","icon","Save","label","Cancel","className","Edit","Box","width","components","Toolbar","Footer","componentsProps","toolbar"],"sourceRoot":""}