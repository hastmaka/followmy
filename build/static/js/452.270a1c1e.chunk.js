"use strict";(self.webpackChunkporfolio=self.webpackChunkporfolio||[]).push([[452],{2067:function(e,t,n){n.d(t,{Z:function(){return Z}});var r=n(4165),i=n(1413),o=n(5861),s=n(5987),a=n(2947),c=n(2007),u=n.n(c),d=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!["date","id","dollarsPerHour"].includes(t)&&(null===n||""===n||isNaN(n)))return{key:t,value:n}}return!0};d.prototype={obj:u().object.isRequired};var l=n(296),f=n(2791),p=n(184),x=["user","rows","columns","setOpen","GridContainerSx","rowModesModel","setRowModesModel"],w=["isNew"],v={borderRadius:"4px",border:"1px solid lightgrey"};function Z(e){var t=e.user,n=e.rows,c=e.columns,u=(e.setOpen,e.GridContainerSx,e.rowModesModel),Z=e.setRowModesModel,h=(0,s.Z)(e,x),b=(0,f.useCallback)((function(e){window.displayNotification({type:e.type,content:e.content}),console.log(e)}),[]),m=(0,f.useCallback)(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n,o){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var r=d(n);if(!0!==r)return t({type:"error",content:"".concat(r.key," can't be ").concat(r.value)});e()}));case 2:if(JSON.stringify(n)!==JSON.stringify(o)){e.next=7;break}return window.displayNotification({type:"warning",content:"Row not saved, cells are empty"}),e.abrupt("return",o);case 7:if(!n.isNew){e.next=14;break}return n.isNew,a=(0,s.Z)(n,w),window.dispatch(l.D.createNewRecordInUserTable({newR:(0,i.Z)({},a),collection:t.select})),window.displayNotification({type:"success",content:"Row saved successfully!!"}),e.abrupt("return",a);case 14:return window.dispatch(l.D.updateUserTable({newRow:n,collection:t.select})),window.displayNotification({type:"success",content:"Row edited successfully!!"}),e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]);return(0,p.jsx)(a._,(0,i.Z)({sx:v,rows:n,columns:c,getRowId:function(e){return e.id},pageSize:10,rowsPerPageOptions:[10,20],editMode:"row",onRowEditStart:function(e,t){return t.defaultMuiPrevented=!0},onRowEditStop:function(e,t){return t.defaultMuiPrevented=!0},experimentalFeatures:{newEditingApi:!0},onRowModesModelChange:function(e){return Z(e)},rowModesModel:u,processRowUpdate:m,onProcessRowUpdateError:b},h))}},788:function(e,t,n){n.d(t,{A:function(){return c}});var r=n(4415),i=n(926),o=n(2007),s=n.n(o),a=n(184),c=function(e){var t=e.id,n=e.value,o=e.options,s=e.api;return(0,a.jsx)(r.Z,{fullWidth:!0,value:n,onChange:function(e){return s.setEditCellValue({id:t,field:"date",value:e.target.value})},renderValue:function(e){return e},children:o.map((function(e){return(0,a.jsx)(i.Z,{value:e,children:e},e)}))})};c.prototype={id:s().number.isRequired,value:s().string.isRequired,options:s().array.isRequired,api:s().object.isRequired}},140:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(4165),i=n(4942),o=n(1413),s=n(3433),a=n(5861),c=n(9439),u=n(2791),d=n(9434),l=n(3767),f=n(68),p=n(3400),x=n(7630),w=n(2419),v=n(5936),Z=n(9211),h=n(4696),b=n(2804),m=n(4654),g=n(2007),j=n.n(g),y=function(e){var t={};return e.forEach((function(e){switch(e.field){case"date":t[e.field]="";break;case"action":break;default:t[e.field]=0}})),t},R=function(e){return e.replace(/[.,_]/g," ").replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},M=n(184),A=(0,x.ZP)(l.Z)((function(e){var t=e.theme;return{height:"60px",border:"1px solid ".concat(t.palette.tableBorder),backgroundColor:t.palette.indigoDye,borderRadius:"4px 4px 0 0",flexDirection:"row",alignItems:"center",padding:"0 10px",justifyContent:"space-between"}}));function C(e){var t=e.setRows,n=e.isAddActive,x=e.setIsAddActive,g=e.setRowModesModel,j=e.user,C=e.columns,k=(0,d.v9)((function(e){return e.admin})).month,N=(0,u.useState)((0,h.getActualMonthAndYear)()),E=(0,c.Z)(N,2),S=E[0],D=E[1],P=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),n=(0,h.createId)(20),t((function(e){return[].concat((0,s.Z)(e),[(0,o.Z)((0,o.Z)({id:n},y(C)),{},{isNew:!0})])})),g((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,i.Z)({},n,{mode:v.se.Edit,fieldToFocus:"date"}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,M.jsxs)(A,{children:[(0,M.jsx)(Z.Z,{text:R(j.select),sx:{color:"white"}}),(0,M.jsxs)(l.Z,{direction:"row",gap:"10px",alignItems:"center",children:[(0,M.jsxs)(l.Z,{direction:"row",gap:"10px",alignItems:"center",children:[(0,M.jsx)(Z.Z,{text:"Select Month"}),(0,M.jsx)(b.Z,{option:(0,s.Z)(k),value:S,onChange:function(e){D(e.target.value),window.dispatch((0,m.getUserTableData)({uid:j.uid,collection:j.select,monthAndYear:e.target.value}))},from:"toolbar"})]}),(0,M.jsx)(f.Z,{title:"Add",placement:"bottom",children:(0,M.jsx)("span",{children:(0,M.jsx)(p.Z,{disabled:n,onClick:P,children:(0,M.jsx)(w.Z,{sx:function(e){var t=e.palette;return{fill:n?t.tableBorder:t.tableColor}}})})})})]})]})}C.prototype={setRows:j().func.isRequired,isAddActive:j().bool.isRequired,setIsAddActive:j().func.isRequired,setRowModesModel:j().func.isRequired,user:j().object.isRequired}},452:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(4942),i=n(1413),o=n(9439),s=n(9434),a=n(2791),c=n(3767),u=n(68),d=n(4554),l=n(7630),f=n(5936),p=n(6795),x=n(3329),w=n(6711),v=n(1286),Z=n(2067),h=n(4696),b=n(788),m=n(442),g=n(3833),j=n(9211),y=n(184);(0,l.ZP)(c.Z)((function(e){e.theme;return{}}));function R(){var e,t=(0,s.v9)((function(e){return e.admin})).user,n=(0,a.useState)({deposit:0,expenses:0}),r=(0,o.Z)(n,2),i=r[0],u=r[1];(0,a.useEffect)((function(){var e,n=null===t||void 0===t||null===(e=t.tableData)||void 0===e?void 0:e.data.reduce((function(e,t){var n=t.deposit,r=t.expenses;return e.deposit+=n,e.expenses+=r,e}),{deposit:0,expenses:0}),r=n.deposit,i=n.expenses;u({deposit:r,expenses:i})}),[t.tableData.data]);var d=i.deposit,l=i.expenses;return(0,y.jsxs)(m.L,{children:[(0,y.jsxs)(c.Z,{direction:"row",alignItems:"center",p:"0 0 0 20px",gap:"20px",children:[(0,y.jsx)(j.Z,{text:"Earn:\xa0$".concat(d.toFixed(2)),sx:{color:"#e9c46a"}}),(0,y.jsx)(j.Z,{text:"Expenses:\xa0$".concat(l.toFixed(2)),sx:{color:"#e63946"}}),(0,y.jsx)(j.Z,{text:"Total:\xa0$".concat((d-l).toFixed(2)),sx:{color:"#2a9d8f"}}),(0,y.jsx)(j.Z,{text:"Days:\xa0".concat(null===t||void 0===t||null===(e=t.tableData)||void 0===e?void 0:e.data.length),sx:{color:"#2a9d99"}})]}),(0,y.jsx)(g.x,{})]})}var M=n(7809),A=n(140),C=(0,l.ZP)(c.Z)((function(e){e.theme;return{margin:"10px",height:"calc(100vh - 80px)"}}));function k(){var e=(0,s.v9)((function(e){return e.admin})).user,t=(0,a.useState)([]),n=(0,o.Z)(t,2),c=n[0],l=n[1],m=(0,a.useMemo)((function(){return(0,h.monthDays)(e.tableData.id)}),[e.tableData.id]),g=(0,a.useState)({}),j=(0,o.Z)(g,2),k=j[0],N=j[1],E=(0,a.useState)(!1),S=(0,o.Z)(E,2),D=S[0],P=S[1];(0,a.useEffect)((function(t){l(e.tableData.data)}),[e.tableData.id]);var q=(0,a.useCallback)((function(e){N((0,i.Z)((0,i.Z)({},k),{},(0,r.Z)({},e,{mode:f.se.Edit})))}),[k]),I=(0,a.useCallback)((function(e){N((0,i.Z)((0,i.Z)({},k),{},(0,r.Z)({},e,{mode:f.se.View}))),P(!1)}),[k]),F=(0,a.useCallback)((function(e){N((0,i.Z)((0,i.Z)({},k),{},(0,r.Z)({},e,{mode:f.se.View,ignoreModifications:!0}))),c.find((function(t){return t.id===e})).isNew&&l((function(t){return t.filter((function(t){return t.id!==e}))})),P(!1)}),[k]),O=(0,a.useMemo)((function(){return[{field:"date",headerName:"date",type:"singleSelect",flex:1,minWidth:180,editable:!0,align:"center",headerAlign:"center",renderEditCell:function(e){return(0,y.jsx)(b.A,{options:m,value:e.value,api:e.api,id:e.id})}},{field:"deposit",headerName:"deposit",type:"number",flex:1,editable:!0,align:"center",headerAlign:"center"},{field:"expenses",headerName:"expenses",type:"number",flex:1,editable:!0,align:"center",headerAlign:"center"},{field:"action",headerName:"Action",align:"center",type:"actions",sortable:!1,getActions:function(e){var t,n=(null===(t=k[e.id])||void 0===t?void 0:t.mode)===f.se.Edit;return n?[(0,y.jsx)(p.u,{icon:(0,y.jsx)(x.Z,{sx:{fill:"green"}}),label:"Save",onClick:function(t){return I(e.id)}}),(0,y.jsx)(p.u,{icon:(0,y.jsx)(w.Z,{sx:{fill:"red"}}),label:"Cancel",className:"textPrimary",onClick:function(t){return F(e.id)},color:"inherit"})]:[(0,y.jsx)(u.Z,{title:"Edit",children:(0,y.jsx)(p.u,{icon:(0,y.jsx)(v.Z,{sx:{fill:"white"}}),label:"Edit",disabled:!0===n,onClick:function(t){return q(e.id)}})})]}}]}),[k,I,F,q]);return(0,y.jsx)(C,{children:(0,y.jsx)(d.Z,{sx:{height:"100%",width:"100%"},children:(0,y.jsx)(Z.Z,{user:e,rows:c,columns:O,setRowModesModel:N,rowModesModel:k,components:{Toolbar:A.Z,Footer:R},componentsProps:{toolbar:{setRows:l,isAddActive:D,setIsAddActive:P,setRowModesModel:N,user:e,columns:O}},sx:function(e){var t=e.palette;return(0,M.ui)(t)}})})})}}}]);
//# sourceMappingURL=452.270a1c1e.chunk.js.map